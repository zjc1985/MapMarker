<!DOCTYPE html>  
<html>  
<head>  
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<style type="text/css">  
body, html,#allmap {width: 100%;height: 100%;}

#searchDialog{
	position: absolute;
  	left: 30px;
  	top: 20px;
  	z-index:3;
}

.info{
	position: absolute;
  	z-index:2;
  	background-color: white;
  	border-style: groove;
  	border-width: 1px;
  	width:450px;
  	padding: 10px;
  	top:70px;
  	left:30px;
}

</style>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="js/lib/magnific-popup.css"> 
<script type="text/javascript"
	src="http://api.map.baidu.com/api?v=2.0&ak=DAfc49ea71a7aff2f10ac4847a9208d0"></script>
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<script src="js/lib/jquery.magnific-popup.js"></script> 
<title>Style Testing</title>  
</head>  
<body>

<div id="searchDialog">
		<input type="text" name="searchKey" id="searchKey" size="50" style="height:25px;"/>
		<input type="button" value="search" onclick="searchLocation()" style="height:30px"/>
		<input type="button" value="feature" onclick="feature()" style="height:30px"/>
</div>


<div class="info" id="titleInfo">
	<div id="titleContainer"></div>
</div>

<div class="info" id="customInfo" style="top:200px">	
	<div id="customContainer"></div>	
</div>

<div class="info" id="card">
</div>

<div id="allmap"></div>  



<div id="customInfoA">
	<p>
	<a class="image-popup-fit-width" href="http://farm9.staticflickr.com/8379/8588290361_ecf8c27021_b.jpg" title="This image fits only horizontally.">
		<img src="http://farm9.staticflickr.com/8379/8588290361_ecf8c27021_s.jpg" width="75" height="75">
	</a>
	<a class="image-popup-no-margins" href="http://farm4.staticflickr.com/3721/9207329484_ba28755ec4_o.jpg"
		title="cow cow cow cow cow cow ">
		<img src="http://farm4.staticflickr.com/3721/9207329484_ba28755ec4_o.jpg" width="107" height="75">
	</a>
	</p>
	<button class="rotateButton">rotate</button><button class="hideButton">Hide</button>
</div>

<div id="customInfoB">
	<p >This is Custom Basic Info. This is Custom Info</p>
	<button class="rotateButton">rotate</button><button class="hideButton">Hide</button>
</div>

<div id="titleInfoA">	
	<h2>Title</h2>
	<p id="address">This is one address.</p>
	
	<div id="favorite">
	</div>
	<button class="rotateButton">rotate</button><button class="hideButton">Hide</button>
</div>

<div id="titleInfoB">	
	<p id="address">This is Basic Info. This is Basic Info</p>
	<button class="rotateButton">rotate</button><button class="hideButton">Hide</button>
</div>

</body>  
</html>  
<script type="text/javascript">
var map = new BMap.Map("allmap");
var point = new BMap.Point(116.404, 39.915);
map.centerAndZoom(point, 15);
map.enableScrollWheelZoom();

$(".rotateButton").click(function(){
	
	var container=$(this).parent().parent().parent();
	var idName=$(this).parent().attr("id");
	container.hide("blind",{direction:"left"},600,function(){
		console.log(idName);
		
		if(idName=="titleInfoA"){
			$("#titleInfoA").hide();
			$("#titleInfoB").show();
		}
		if(idName=="titleInfoB"){
			$("#titleInfoB").hide();
			$("#titleInfoA").show();
		}	
		if(idName=="customInfoA"){
			$("#customInfoA").hide();
			$("#customInfoB").show();
		}
		if(idName=="customInfoB"){
			$("#customInfoB").hide();
			$("#customInfoA").show();
		}
	});
	
	container.show("blind",{direction:"left"},600,null);
	
});

$( ".info" ).draggable();

$( ".hideButton" ).click(function() {
	console.log($(this).html());
	$(this).parent().parent().parent().hide("blind",{direction:"left"},600,null);
});

$('.image-popup-fit-width').magnificPopup({
	type: 'image',
	closeOnContentClick: true,
	image: {
		verticalFit: false
	}
});

$('.image-popup-no-margins').magnificPopup({
	type: 'image',
	closeOnContentClick: true,
	closeBtnInside: false,
	fixedContentPos: true,
	mainClass: 'mfp-no-margins mfp-with-zoom', // class to remove default margin from left and right side
	image: {
		verticalFit: true
	},
	zoom: {
		enabled: true,
		duration: 300 // don't foget to change the duration also in CSS
	}
});



function feature(){
	console.log("fearure function");
	/*
	$("#customContainer").append($("#customInfoA"));
	$("#customContainer").append($("#customInfoB"));
	$("#customInfoB").hide();
	$("#titleContainer").append($("#titleInfoA"));
	$("#titleContainer").append($("#titleInfoB"));
	$("#titleInfoB").hide();
	console.log($("#titleInfoB").html());
	$( ".info" ).show("Clip",null,2000,null);
	*/
	
	var w=new infoCard("card","<p>Title</p>","<p>Back Title</p>");
	w.init("20px","70px");
}

function infoCard(idName,htmlContentA,htmlContentB){
	this.idName=idName;
	this.jqueryId="#"+this.idName;
	this.contentA=htmlContentA;
	this.contentB=htmlContentB;
	
	this.init=function(top,left){
		$(this.jqueryId).draggable();
		$(this.jqueryId).append(this.contentA);
		$(this.jqueryId).append(this.contentB);
		var buttonHtml="<button class='rotateButton'>rotate</button><button class='hideButton'>Hide</button>";
		$(this.jqueryId).append(buttonHtml);
		$(this.jqueryId).addClass("info");
		/*
		$(this.jqueryId).css({position: "absolute",
	  	z-index:"2",
	  	background-color: "white",
	  	border-style: "groove",
	  	border-width: "1px",
	  	width:"450px",
	  	padding: "10px",
	  	top:"70px",
	  	left:"30px"});
		*/
	}
}

</script>  